# Database Release Notes

**Generated:** {{generatedAt}}  
**Generated By:** {{generatedBy}}  
**Environment:** {{capitalize environment}}  
{{#if fromVersion}}**From Version:** {{fromVersion}}{{/if}}
{{#if toVersion}}**To Version:** {{toVersion}}{{/if}}

---

## 📊 Release Summary

**Total Changes:** {{summary.totalChanges}}

### By Change Type
{{#each summary.byChangeType}}
- {{changeTypeIcon @key}} **{{capitalize @key}}:** {{this}}
{{/each}}

### By Risk Level  
{{#each summary.byRisk}}
- {{riskColor @key}} **{{capitalize @key}} Risk:** {{this}}
{{/each}}

---

## 📋 Migration Details

{{#each items}}
### {{changeTypeIcon change_type}} {{version}} — {{title}}

**📋 Details:**
- **Ticket:** {{ticket}}
- **Change Type:** {{capitalize change_type}}
- **Risk Level:** {{riskColor risk}} {{capitalize risk}}
- **Owner:** {{owner}}
- **Deployed:** {{formatDate installed_on}}

{{#if rollout_plan}}
**📋 Rollout Plan:**
> {{rollout_plan}}
{{/if}}

{{#if rollback_plan}}
**🔄 Rollback Plan:**
> {{rollback_plan}}
{{/if}}

---

{{/each}}

## 🛡️ Safety Information

### Rollback Procedures
If any issues are encountered after deployment:

1. **Immediate Actions:**
   - Check application health dashboards
   - Review error logs for database-related issues
   - Verify critical business processes are functioning

2. **Rollback Decision Matrix:**
   - **🟢 Low Risk Changes:** Monitor for 24 hours, rollback if issues detected
   - **🟡 Medium Risk Changes:** Monitor for 48 hours, have rollback plan ready
   - **🔴 High Risk Changes:** Monitor continuously for 72 hours, immediate rollback capability required

3. **Rollback Process:**
   - Follow individual rollback plans listed above
   - Consult `ops/rollback-playbook.md` for detailed procedures
   - Contact on-call DBA for assistance if needed

### Monitoring Checklist
After deployment, verify:
- [ ] Application startup successful
- [ ] Database connections stable
- [ ] Critical queries performing within SLA
- [ ] No foreign key constraint violations
- [ ] Smoke tests passing
- [ ] Business metrics within expected ranges

### Emergency Contacts
- **On-Call DBA:** [Insert contact information]
- **DevOps Team:** [Insert contact information]  
- **Product Owner:** [Insert contact information]

---

## 📝 Notes

- All migrations have been tested in staging environment
- Database backup taken before deployment: [Insert backup reference]
- Estimated deployment time: [Insert estimate]
- Expected downtime: [Insert downtime estimate or "Zero downtime"]

**For detailed technical information, refer to individual migration files in the `migrations/` directory.**

---
*This document was automatically generated from database migration metadata and Flyway schema history.*
